<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upload and Analyze</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/dashboard.css') }}">
</head>
<body>
    <div id="sessionSidebar">
        <button id="newSessionBtn">New Analysis Session</button>
        <ul id="sessionList">
            <!-- Sessions will be dynamically added here -->
        </ul>
    </div>
    <div id="currentSession" style="margin-left: 220px;">
        <!-- Session content will be loaded here -->
    </div>
    <div id="suggestionsArea" style="margin-top: 20px;">
        <button id="generateSuggestionsBtn">Create Suggestions for Me</button>
        <div id="suggestionsContent" style="margin-top: 10px; border: 1px solid #ccc; padding: 10px;">
            Suggestions will appear here...
        </div>
    </div>

    
    <!-- Hidden Side by Side Per Session HTML -->
    <div class="session-template" hidden>
        <div class="container">
            <div class="side user-side">
                <section class="video-controls">
                    <button class="upload-button user" id="uploadUserVideoButton">Upload User Video</button>
                    <input type="file" class="userVideoFileInput" accept="video/*" style="display:none;">
                    <div class="video-wrapper">
                        <video class="userVideoPreview" width="300" height="300" hidden></video>
                    </div>
                    <button class="playPauseUserBtn" style="display:none;">Play/Pause</button>
                    <label for="frameScrubberUser" id="frameScrub" style="display:none;">Frame Scrubber:</label>
                    <input type="range" class="frameScrubberUser" style="display:none;" value="0" min="0" max="100" step="1">
                    <label for="zoom-slider" id="zoomScrub" style="display:none;">Zoom:</label>
                    <input type="range" class="zoom-slider" style="display:none;" min="0.5" max="8" step="0.05" value="1" title="Zoom">
                    <button class="captureFrameUser" style="display:none;">Capture Frame</button>
                    <select id="userKeypointSelector" class="keypoint-selector">
                        <!-- Dynamically filled with options -->
                    </select>
                </section>
                <canvas class="userCanvas" width="300" height="300" hidden></canvas>
                <button class="saveKeypointsBtn" style="display:none;">Save Keypoints</button>
            </div>
            <div class="side reference-side">
                <section class="video-controls">
                    <button class="upload-button reference" id="uploadReferenceVideoButton">Upload Reference Video</button>
                    <input type="file" class="referenceVideoFileInput" accept="video/*" style="display:none;">
                    <div class="video-wrapper">
                        <video class="referenceVideoPreview" width="300" height="300" hidden></video>
                    </div>
                    <button class="playPauseReferenceBtn" style="display:none;">Play/Pause</button>
                    <label for="frameScrubberReference" id="frameScrub" style="display:none;">Frame Scrubber:</label>
                    <input type="range" class="frameScrubberReference" style="display:none;" value="0" min="0" max="100" step="1">
                    <label for="zoom-slider" id="zoomScrub" style="display:none;">Zoom:</label>
                    <input type="range" class="zoom-slider" style="display:none;" min="0.5" max="8" step="0.05" value="1" title="Zoom">
                    <button class="captureFrameReference" style="display:none;">Capture Frame</button>
                    <select id="referenceKeypointSelector" class="keypoint-selector">
                        <!-- Dynamically filled with options -->
                    </select>
                </section>
                <canvas class="referenceCanvas" width="300" height="300" hidden></canvas>
                <button class="saveKeypointsBtn" style="display:none;">Save Keypoints</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='sidebar.js') }}"></script>
    <script src="{{ url_for('static', filename='suggestionsbox.js') }}"></script>
</body>
</html>
